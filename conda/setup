# Setup conda correctly depending upon which system we're on.

case $OS in
linux)

    case $USER in
    sydes)
        case $HOSTNAME in
            # All hosts except Talapas (hopefully).
            longreads|Prometheus|doug-Z97M-DS3H)

                # Note: The following was autogenerated during mambaforge setup, then modified to point to "/home" instead of "/JBOD"
                # >>> conda initialize >>>
                # !! Contents within this block are managed by 'conda init' !!
                __conda_setup="$('/home/sydes/mambaforge/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
                if [ $? -eq 0 ]; then
                    eval "$__conda_setup"
                else
                    if [ -f "/home/sydes/mambaforge/etc/profile.d/conda.sh" ]; then
                        . "/home/sydes/mambaforge/etc/profile.d/conda.sh"
                    else
                        export PATH="/home/sydes/mambaforge/bin:$PATH"
                    fi
                fi
                unset __conda_setup

                if [ -f "/home/sydes/mambaforge/etc/profile.d/mamba.sh" ]; then
                    . "/home/sydes/mambaforge/etc/profile.d/mamba.sh"
                fi
                # <<< conda initialize <<<
            ;;
            ## Talapas (not quite yet ready to abandon your longtime miniconda3 setup)
            *)
                # Note: The following was autogenerated during mambaforge setup, then modified to point to "/home" instead of "/JBOD"
                # >>> conda initialize >>>
                # !! Contents within this block are managed by 'conda init' !!
                __conda_setup="$('/home/sydes/miniconda3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
                if [ $? -eq 0 ]; then
                    eval "$__conda_setup"
                else
                    if [ -f "/home/sydes/miniconda3/etc/profile.d/conda.sh" ]; then
                        . "/home/sydes/miniconda3/etc/profile.d/conda.sh"
                    else
                        export PATH="/home/sydes/miniconda3/bin:$PATH"
                    fi
                fi
                unset __conda_setup

                if [ -f "/home/sydes/miniconda3/etc/profile.d/mamba.sh" ]; then
                    . "/home/sydes/miniconda3/etc/profile.d/mamba.sh"
                fi
                # <<< conda initialize <<<
            ;;
        esac
    ;;
    root)
        # Note: The following was autogenerated during mambaforge setup.
        # >>> conda initialize >>>
        # !! Contents within this block are managed by 'conda init' !!
        __conda_setup="$('/JBOD/root/mambaforge/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
        if [ $? -eq 0 ]; then
            eval "$__conda_setup"
        else
            if [ -f "/JBOD/root/mambaforge/etc/profile.d/conda.sh" ]; then
                . "/JBOD/root/mambaforge/etc/profile.d/conda.sh"
            else
                export PATH="/JBOD/root/mambaforge/bin:$PATH"
            fi
        fi
        unset __conda_setup
        
        if [ -f "/JBOD/root/mambaforge/etc/profile.d/mamba.sh" ]; then
            . "/JBOD/root/mambaforge/etc/profile.d/mamba.sh"
        fi
        # <<< conda initialize <<<
    ;;
    gc3f-usr)
        # Note: The following was autogenerated during miniconda3 setup.
        # >>> conda initialize >>>
        # !! Contents within this block are managed by 'conda init' !!
        __conda_setup="$('/home/gc3f-usr/miniconda3/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
        if [ $? -eq 0 ]; then
            eval "$__conda_setup"
        else
            if [ -f "/home/gc3f-usr/miniconda3/etc/profile.d/conda.sh" ]; then
                . "/home/gc3f-usr/miniconda3/etc/profile.d/conda.sh"
            else
                export PATH="/home/gc3f-usr/miniconda3/bin:$PATH"
            fi
        fi
        unset __conda_setup
        # mamba init generated this part:
        if [ -f "/home/gc3f-usr/miniconda3/etc/profile.d/mamba.sh" ]; then
            . "/home/gc3f-usr/miniconda3/etc/profile.d/mamba.sh"
        fi
        # <<< conda initialize <<<

    ;;
    *)
        USER=unknown
    ;;
    esac

;;
darwin)
    # >>> conda initialize >>>
    # !! Contents within this block are managed by 'conda init' !!
    __conda_setup="$('/Users/sydes/mambaforge/bin/conda' 'shell.bash' 'hook' 2> /dev/null)"
    if [ $? -eq 0 ]; then
        eval "$__conda_setup"
    else
        if [ -f "/Users/sydes/mambaforge/etc/profile.d/conda.sh" ]; then
            . "/Users/sydes/mambaforge/etc/profile.d/conda.sh"
        else
            export PATH="/Users/sydes/mambaforge/bin:$PATH"
        fi
    fi
    unset __conda_setup

    if [ -f "/Users/sydes/mambaforge/etc/profile.d/mamba.sh" ]; then
        . "/Users/sydes/mambaforge/etc/profile.d/mamba.sh"
    fi
    # <<< conda initialize <<<
;;
*)
	OS=unknown
;;
esac

# Lame that conda does not export.
# Make this function available to scripts.
# export -f conda
# export -f mamba
# export -f __conda_exe
# export -f __conda_activate
# #export -f __add_sys_prefix_to_path
# export -f __conda_hashr
# export -f __conda_reactivate
export -f conda
export -f __conda_exe
export -f __conda_activate
export -f __conda_hashr
export -f __conda_reactivate
export -f mamba
export -f __mamba_exe
